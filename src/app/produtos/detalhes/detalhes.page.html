<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="home"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content> 
  
  <div id="mostrar" *ngIf="!modoEdicao">

    <div class="top">
      <h1>Detalhes</h1>
    </div>    

    <!-- Aqui ele lista as informações do id selecionado e passa na tela -->
    
    <ion-item >
      <ion-label>Nome:</ion-label>
      <p>{{detalhesProduto.nome}}</p>
    </ion-item>

    <ion-item >
      <ion-label>desc_breve:</ion-label>
      <p>{{detalhesProduto.desc_breve}}</p>
    </ion-item>

    <ion-item >
      <ion-label>fornecedor:</ion-label>
      <p>{{detalhesProduto.fornecedor}}</p>
    </ion-item>

    <ion-item >
      <ion-label>valor:</ion-label>
      <p>{{detalhesProduto.valor}}</p>
    </ion-item>

    <ion-item >
      <ion-label>quantidade:</ion-label>
      <p>{{detalhesProduto.quantidade}}</p>
    </ion-item>

  </div>

  <div id="botao" *ngIf="!modoEdicao">

    <!-- botão q passa o modo de edição e troca as info da tela -->
    <ion-button class="but" (click)="IniciarEdicao()"> Movimentar</ion-button> <br>

    <ion-button class="but" (click)="presentAlert()">
      <ion-label><ion-icon name="trash-outline"></ion-icon></ion-label> &nbsp; DELETAR
    </ion-button>

  </div>

  <div id="movimentacao" *ngIf="modoEdicao">
    <div class="top">
      <h1>Movimentação</h1>
    </div>  

    <form #form="ngForm" (ngSubmit)="EncerrarEdicao()" [formGroup]="moviForm">


      <!-- class null é mo gambiarra boy Deus o livre -->
      <!-- A func de att ela atualiza todos os itens de um determinado id e eu n consegui modificar isso,
      portanto esses itens abaixo n deixa atualizar tudo no banco como null e com depois esconde ou seja tem os inouts pro user 
    mexer só n aparece pra ele pelo css ysando display none -->

      <ion-item class="null">
        <ion-label position="floating"> Nome:</ion-label>
        <ion-input [(ngModel)]="detalhesProduto.nome" formControlName="nome"></ion-input>
      </ion-item>

      <ion-item class="null">
        <ion-label position="floating"> Descrição breve:</ion-label>
        <ion-input [(ngModel)]="detalhesProduto.desc_breve" formControlName="desc_breve"></ion-input>
      </ion-item>

      <ion-item class="null">
        <ion-label position="floating"> Fornecedor:</ion-label>
        <ion-input [(ngModel)]="detalhesProduto.fornecedor" formControlName="fornecedor"></ion-input>
      </ion-item>

      <ion-item id="part2" class="null">
        <ion-label position="floating"> Valor de venda:</ion-label>
        <ion-input [(ngModel)]="detalhesProduto.valor" formControlName="valor" ></ion-input>
      </ion-item>

      <ion-item >
        <ion-label position="floating">Quantidade:</ion-label>
        <ion-input [(ngModel)]="detalhesProduto.quantidade" formControlName="quantidade" type="number" [clearInput]="true"></ion-input>
      </ion-item>

      <ion-button (click)="comprar()" type="submit" class="but"> Confirmar </ion-button>
    </form>
  </div>




</ion-content>
